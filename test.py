
lines = [u'User-agent: *', u'Disallow: /search', u'Allow: /search/about', u'Disallow: /sdch', u'Disallow: /groups', u'Disallow: /index.html?', u'Disallow: /?', u'Allow: /?hl=', u'Disallow: /?hl=*&', u'Allow: /?hl=*&gws_rd=ssl$', u'Disallow: /?hl=*&*&gws_rd=ssl', u'Allow: /?gws_rd=ssl$', u'Allow: /?pt1=true$', u'Disallow: /imgres', u'Disallow: /u/', u'Disallow: /preferences', u'Disallow: /setprefs', u'Disallow: /default', u'Disallow: /m?', u'Disallow: /m/', u'Allow:    /m/finance', u'Disallow: /wml?', u'Disallow: /wml/?', u'Disallow: /wml/search?', u'Disallow: /xhtml?', u'Disallow: /xhtml/?', u'Disallow: /xhtml/search?', u'Disallow: /xml?', u'Disallow: /imode?', u'Disallow: /imode/?', u'Disallow: /imode/search?', u'Disallow: /jsky?', u'Disallow: /jsky/?', u'Disallow: /jsky/search?', u'Disallow: /pda?', u'Disallow: /pda/?', u'Disallow: /pda/search?', u'Disallow: /sprint_xhtml', u'Disallow: /sprint_wml', u'Disallow: /pqa', u'Disallow: /palm', u'Disallow: /gwt/', u'Disallow: /purchases', u'Disallow: /local?', u'Disallow: /local_url', u'Disallow: /shihui?', u'Disallow: /shihui/', u'Disallow: /products?', u'Disallow: /product_', u'Disallow: /products_', u'Disallow: /products;', u'Disallow: /print', u'Disallow: /books/', u'Disallow: /bkshp?*q=*', u'Disallow: /books?*q=*', u'Disallow: /books?*output=*', u'Disallow: /books?*pg=*', u'Disallow: /books?*jtp=*', u'Disallow: /books?*jscmd=*', u'Disallow: /books?*buy=*', u'Disallow: /books?*zoom=*', u'Allow: /books?*q=related:*', u'Allow: /books?*q=editions:*', u'Allow: /books?*q=subject:*', u'Allow: /books/about', u'Allow: /booksrightsholders', u'Allow: /books?*zoom=1*', u'Allow: /books?*zoom=5*', u'Disallow: /ebooks/', u'Disallow: /ebooks?*q=*', u'Disallow: /ebooks?*output=*', u'Disallow: /ebooks?*pg=*', u'Disallow: /ebooks?*jscmd=*', u'Disallow: /ebooks?*buy=*', u'Disallow: /ebooks?*zoom=*', u'Allow: /ebooks?*q=related:*', u'Allow: /ebooks?*q=editions:*', u'Allow: /ebooks?*q=subject:*', u'Allow: /ebooks?*zoom=1*', u'Allow: /ebooks?*zoom=5*', u'Disallow: /patents?', u'Disallow: /patents/download/', u'Disallow: /patents/pdf/', u'Disallow: /patents/related/', u'Disallow: /scholar', u'Disallow: /citations?', u'Allow: /citations?user=', u'Disallow: /citations?*cstart=', u'Allow: /citations?view_op=new_profile', u'Allow: /citations?view_op=top_venues', u'Disallow: /s?', u'Allow: /maps?*output=classic*', u'Allow: /maps?*file=', u'Allow: /maps/api/js?', u'Allow: /maps/d/', u'Disallow: /maps?', u'Disallow: /mapstt?', u'Disallow: /mapslt?', u'Disallow: /maps/stk/', u'Disallow: /maps/br?', u'Disallow: /mapabcpoi?', u'Disallow: /maphp?', u'Disallow: /mapprint?', u'Disallow: /maps/api/js/', u'Disallow: /maps/api/staticmap?', u'Disallow: /maps/api/streetview', u'Disallow: /mld?', u'Disallow: /staticmap?', u'Disallow: /maps/preview', u'Disallow: /maps/place', u'Disallow: /help/maps/streetview/partners/welcome/', u'Disallow: /help/maps/indoormaps/partners/', u'Disallow: /lochp?', u'Disallow: /center', u'Disallow: /ie?', u'Disallow: /blogsearch/', u'Disallow: /blogsearch_feeds', u'Disallow: /advanced_blog_search', u'Disallow: /uds/', u'Disallow: /chart?', u'Disallow: /transit?', u'Disallow: /extern_js/', u'Disallow: /xjs/', u'Disallow: /calendar/feeds/', u'Disallow: /calendar/ical/', u'Disallow: /cl2/feeds/', u'Disallow: /cl2/ical/', u'Disallow: /coop/directory', u'Disallow: /coop/manage', u'Disallow: /trends?', u'Disallow: /trends/music?', u'Disallow: /trends/hottrends?', u'Disallow: /trends/viz?', u'Disallow: /trends/embed.js?', u'Disallow: /trends/fetchComponent?', u'Disallow: /trends/beta', u'Disallow: /musica', u'Disallow: /musicad', u'Disallow: /musicas', u'Disallow: /musicl', u'Disallow: /musics', u'Disallow: /musicsearch', u'Disallow: /musicsp', u'Disallow: /musiclp', u'Disallow: /urchin_test/', u'Disallow: /movies?', u'Disallow: /wapsearch?', u'Allow: /safebrowsing/diagnostic', u'Allow: /safebrowsing/report_badware/', u'Allow: /safebrowsing/report_error/', u'Allow: /safebrowsing/report_phish/', u'Disallow: /reviews/search?', u'Disallow: /orkut/albums', u'Disallow: /cbk', u'Allow: /cbk?output=tile&cb_client=maps_sv', u'Disallow: /kh', u'Disallow: /vt', u'Disallow: /maps/vt', u'Disallow: /recharge/dashboard/car', u'Disallow: /recharge/dashboard/static/', u'Disallow: /profiles/me', u'Allow: /profiles', u'Disallow: /s2/profiles/me', u'Allow: /s2/profiles', u'Allow: /s2/oz', u'Allow: /s2/photos', u'Allow: /s2/search/social', u'Allow: /s2/static', u'Disallow: /s2', u'Disallow: /transconsole/portal/', u'Disallow: /gcc/', u'Disallow: /aclk', u'Disallow: /cse?', u'Disallow: /cse/home', u'Disallow: /cse/panel', u'Disallow: /cse/manage', u'Disallow: /tbproxy/', u'Disallow: /imesync/', u'Disallow: /shenghuo/search?', u'Disallow: /support/forum/search?', u'Disallow: /reviews/polls/', u'Disallow: /hosted/images/', u'Disallow: /ppob/?', u'Disallow: /ppob?', u'Disallow: /accounts/ClientLogin', u'Disallow: /accounts/ClientAuth', u'Disallow: /accounts/o8', u'Allow: /accounts/o8/id', u'Disallow: /topicsearch?q=', u'Disallow: /xfx7/', u'Disallow: /squared/api', u'Disallow: /squared/search', u'Disallow: /squared/table', u'Disallow: /qnasearch?', u'Disallow: /app/updates', u'Disallow: /sidewiki/entry/', u'Disallow: /quality_form?', u'Disallow: /labs/popgadget/search', u'Disallow: /buzz/post', u'Disallow: /compressiontest/', u'Disallow: /analytics/reporting/', u'Disallow: /analytics/admin/', u'Disallow: /analytics/web/', u'Disallow: /analytics/feeds/', u'Disallow: /analytics/settings/', u'Disallow: /analytics/portal/', u'Disallow: /analytics/uploads/', u'Allow: /alerts/manage', u'Allow: /alerts/remove', u'Disallow: /alerts/', u'Allow: /alerts/$', u'Disallow: /ads/search?', u'Disallow: /ads/plan/action_plan?', u'Disallow: /ads/plan/api/', u'Disallow: /ads/hotels/partners', u'Disallow: /phone/compare/?', u'Disallow: /travel/clk', u'Disallow: /hotelfinder/rpc', u'Disallow: /hotels/rpc', u'Disallow: /flights/rpc', u'Disallow: /commercesearch/services/', u'Disallow: /evaluation/', u'Disallow: /chrome/browser/mobile/tour', u'Disallow: /compare/*/apply*', u'Disallow: /forms/perks/', u'Disallow: /shopping/suppliers/search', u'Disallow: /ct/', u'Disallow: /edu/cs4hs/', u'Disallow: /trustedstores/s/', u'Disallow: /trustedstores/tm2', u'Disallow: /trustedstores/verify', u'Disallow: /adwords/proposal', u'Disallow: /shopping/product/', u'Disallow: /shopping/seller', u'Disallow: /shopping/reviewer', u'Disallow: /about/careers/apply/', u'Disallow: /about/careers/applications/', u'Disallow: /landing/signout.html', u'Disallow: /webmasters/sitemaps/ping?', u'Disallow: /ping?', u'Disallow: /gallery/', u'Disallow: /landing/now/ontap/', u'', u'# Certain social media sites are whitelisted to allow crawlers to access page markup when links to google.com/imgres* are shared. To learn more, please contact images-robots-whitelist@google.com.', u'User-agent: Twitterbot', u'Allow: /imgres', u'', u'User-agent: facebookexternalhit', u'Allow: /imgres', u'', u'Sitemap: http://www.gstatic.com/culturalinstitute/sitemaps/www_google_com_culturalinstitute/sitemap-index.xml', u'Sitemap: http://www.gstatic.com/earth/gallery/sitemaps/sitemap.xml', u'Sitemap: http://www.gstatic.com/s2/sitemaps/profiles-sitemap.xml', u'Sitemap: https://www.google.com/sitemap.xml', u'']

agent_dict = {}

for l in lines:
    pair = map(lambda s: s.strip(), l.split(':', 1))
    if len(pair) == 2:
        if pair[0] == 'User-agent' and pair[1] not in agent_dict:
                key = pair[1]
                agent_dict[key] = {}
        else:
            for agent in agent_dict:
                if pair[0] not in agent_dict[agent]:
                    agent_dict[agent][pair[0]] = []
                    agent_dict[agent][pair[0]].append(pair[1])
                else:
                    agent_dict[agent][pair[0]].append(pair[1])

print(agent_dict['facebookexternalhit']['Sitemap'])
